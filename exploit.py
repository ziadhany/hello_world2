import os
import random
import yaml  # Ensure you have PyYAML installed: pip install PyYAML
import urllib.parse
import string

# Counter for file creation
c = 0

# Desired file size in KB
size_kb = 1

# Calculate the file size in bytes
file_size = size_kb

# Root directory
root_dir = "./"
os.makedirs(root_dir, exist_ok=True)

# Maximum directory depth
max_depth = 3

def encode_generator():
    characters_to_test = string.printable
    for char in characters_to_test:
        encoded_char = urllib.parse.quote(char)
        encoded_char_plus = urllib.parse.quote_plus(char)
        yield char+char
        yield encoded_char + encoded_char
        yield encoded_char_plus + encoded_char_plus


# Function to create a deeply nested directory path
def create_nested_dirs(base_dir, depth):
    current_dir = base_dir
    en_coder  = encode_generator()
    while en_coder:
        char_2 = next(en_coder)
        encoded_char_2 = next(en_coder)
        encoded_char_plus_2 = next(en_coder)
        for ex in [char_2,encoded_char_2, encoded_char_plus_2 ]:
            for i in range(depth):
                try:
                    current_dir = os.path.join(current_dir, ex)
                    if not os.path.exists(current_dir):
                        os.makedirs(current_dir)
                        
                    with open( ex +" ", "w") as f:
                        yaml.dump({
                        "id": random.randint(0, 9999),
                        }, f)
                except Exception:
                    pass

# Generate the deepest directory structure
deepest_dir = create_nested_dirs(root_dir, max_depth)